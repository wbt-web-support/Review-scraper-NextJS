<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Widget Test - Fixed Google Review Button</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background: #f5f5f5;
            margin: 0;
            padding: 20px;
        }
        .test-section {
            background: white;
            margin: 20px 0;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .test-title {
            font-size: 18px;
            font-weight: bold;
            margin-bottom: 10px;
            color: #333;
        }
        .test-description {
            color: #666;
            margin-bottom: 15px;
        }
    </style>
</head>
<body>
    <h1>Widget Test - Fixed Google Review Button</h1>
    <p>Testing the fix for the disabled "Review us on Google" button</p>

    <div class="test-section">
        <div class="test-title">Test 1: Widget with Business Name but No URL</div>
        <div class="test-description">This should generate a Google search URL for "Multico Electrical"</div>
        <div id="widget-test-1"></div>
    </div>

    <div class="test-section">
        <div class="test-title">Test 2: Widget with No Business Name</div>
        <div class="test-description">This should fall back to a generic Google reviews search</div>
        <div id="widget-test-2"></div>
    </div>

    <div class="test-section">
        <div class="test-title">Test 3: Widget with Custom Business URL</div>
        <div class="test-description">This should use the provided custom URL</div>
        <div id="widget-test-3"></div>
    </div>

    <script src="widget.js"></script>
    <script>
        // Test 1: Widget with business name but no URL (should generate default Google URL)
        ReviewHub.loadWidget('widget-test-1', {
            widgetId: 'test-1',
            businessName: 'Multico Electrical',
            layout: 'badge',
            themeColor: '#3B82F6',
            showProfilePictures: true,
            showRatings: true,
            showDates: true,
            reviews: [
                {
                    author: 'Chris Dreher',
                    rating: 5,
                    content: "I've used Multico on several occasions now for electrical and alarm works. Always friendly, professional and a great end result! Wouldn't use anyone else! Thanks Multico!",
                    postedAt: 'a week ago',
                    source: 'google',
                    profilePicture: null
                },
                {
                    author: 'Jo Prosser',
                    rating: 5,
                    content: 'Fantastic company lovely team. on time clean,tidy and a pleasure to work with',
                    postedAt: '2 months ago',
                    source: 'google',
                    profilePicture: null
                }
            ]
        });

        // Test 2: Widget with no business name (should use generic Google URL)
        ReviewHub.loadWidget('widget-test-2', {
            widgetId: 'test-2',
            layout: 'badge',
            themeColor: '#3B82F6',
            showProfilePictures: true,
            showRatings: true,
            showDates: true,
            reviews: [
                {
                    author: 'Anonymous User',
                    rating: 5,
                    content: 'Great service!',
                    postedAt: '1 week ago',
                    source: 'google',
                    profilePicture: null
                }
            ]
        });

        // Test 3: Widget with custom business URL (should use the provided URL)
        ReviewHub.loadWidget('widget-test-3', {
            widgetId: 'test-3',
            businessName: 'Test Business',
            layout: 'badge',
            themeColor: '#3B82F6',
            showProfilePictures: true,
            showRatings: true,
            showDates: true,
            businessUrl: {
                url: 'https://www.google.com/search?q=custom+business+reviews'
            },
            reviews: [
                {
                    author: 'Test Customer',
                    rating: 5,
                    content: 'Excellent service with custom URL!',
                    postedAt: '1 day ago',
                    source: 'google',
                    profilePicture: null
                }
            ]
        });
    </script>
</body>
</html> 